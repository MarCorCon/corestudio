<div class="modal-header">
    <button type="button" class="close" ng-click="modal.dismiss()" aria-hidden="true">&times;</button>
    <h4 class="modal-title">Nuevo bono de {{modal.title}}</h4>
</div>
<div class="modal-body">
    <form novalidate name="passForm">
        <div class="row">
            <div class="col-md-12">
                <div class="row">
                    <div class="col-md-6 form-group has-feedback" show-errors>
                        <label for="paymentDate" class="control-label">Fecha de pago</label>

                        <div class="input-group">
                            <input type="text" class="form-control" id="paymentDate" name="paymentDate"
                                   uib-datepicker-popup
                                   is-open="modal.paymentDateDatepicker.opened"
                                   ng-model="modal.pass.paymentDate"
                                   ng-pattern="/^(\d{2})\/(\d{2})\/(\d{4})$/" required>
                            <span class="btn btn-default input-group-addon"
                                  ng-click="modal.paymentDateDatepicker.opened = true">
                                <i class="fa fa-calendar"></i>
                            </span>
                        </div>
                        <div ng-messages="passForm.paymentDate.$error" class="help-block" role="alert">
                            <div ng-messages-include="scripts/components/errors/errors.html"></div>
                        </div>
                    </div>
                    <div class="col-md-6 form-group has-feedback" show-errors>
                        <label for="initialDate" class="control-label">Fecha de inicio</label>

                        <div class="input-group">
                            <input type="text" class="form-control" id="initialDate" name="initialDate"
                                   uib-datepicker-popup
                                   is-open="modal.initialDateDatepicker.opened"
                                   ng-model="modal.pass.initialDate"
                                   ng-pattern="/^(\d{2})\/(\d{2})\/(\d{4})$/" required>
                            <span class="btn btn-default input-group-addon"
                                  ng-click="modal.initialDateDatepicker.opened = true">
                                <i class="fa fa-calendar"></i>
                            </span>
                        </div>
                        <div ng-messages="passForm.initialDate.$error" class="help-block" role="alert">
                            <div ng-messages-include="scripts/components/errors/errors.html"></div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12 form-group" show-errors>
                        <label for="passType" class="control-label">Tipo de bono</label>
                        <select name="passType" id="passType" class="form-control" ng-model="modal.pass.passType"
                                ng-options="(passType | passType) for passType in modal.passTypes track by passType.id"
                                ng-change="modal.updateGroups()" required></select>
                    </div>
                </div>
                <div class="row animate-if" ng-if="modal.pass.passType.activity.groupActivity">
                    <div class="col-md-12 form-group" show-errors>
                        <label for="group" class="control-label">Grupo</label>
                        <select name="group" id="group" class="form-control" ng-model="modal.pass.group"
                                ng-options="(group | group) for group in modal.groups" required></select>
                    </div>
                </div>
                <div class="row animate-if" ng-if="modal.pass.passType">
                    <div class="col-md-12 form-group has-feedback" show-errors>
                        <label for="price" class="control-label">Precio</label>

                        <div class="input-group">
                            <input type="number" currency id="price" name="price" class="form-control" ng-model="modal.pass.price" required>
                            <span class="btn btn-default input-group-addon">
                              <i class="fa fa-eur"></i>
                            </span>
                        </div>
                        <div ng-messages="passForm.price.$error" class="help-block" role="alert">
                            <div ng-messages-include="scripts/components/errors/errors.html"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>
<div class="modal-footer">
    <button type="button" class="btn btn-default" ng-click="modal.dismiss()">Cancelar</button>
    <button type="button" class="btn btn-primary" ng-click="modal.savePass()">Guardar</button>
</div>